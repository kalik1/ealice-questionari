<div class="flex flex-col flex-auto min-w-0">
  <!-- Header -->
  <div class="flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between p-6 sm:py-8 sm:px-10 border-b bg-card dark:bg-transparent">
    <div class="flex-1 min-w-0">
      <div class="flex flex-wrap items-center font-medium">
        <div>
          <a class="whitespace-nowrap text-primary-500">Proxima</a>
        </div>
        <div class="flex items-center ml-1 whitespace-nowrap">
          <mat-icon class="icon-size-5 text-secondary" [svgIcon]="'heroicons_solid:chevron-right'"></mat-icon>
          <a class="ml-1 text-primary-500">Crea Utente</a>
        </div>
      </div>
    </div>
  </div>

  <div class="relative flex flex-col py-8 px-6 md:px-8 border-b">
    <div class="text-4xl font-extrabold tracking-tight">Crea Utente</div>
  </div>

  <div class="flex flex-auto overflow-hidden p-6 md:p-8">
    <form class="w-full max-w-3xl space-y-6" [formGroup]="form" (ngSubmit)="submit()">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <mat-form-field appearance="fill">
          <mat-label>Nome</mat-label>
          <input matInput formControlName="name" required />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Email</mat-label>
          <input matInput type="email" formControlName="email" required />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Password</mat-label>
          <input matInput type="password" formControlName="password" required />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Anno di nascita</mat-label>
          <input matInput type="number" formControlName="yearOfBirth" required />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Genere</mat-label>
          <mat-select formControlName="gender" required>
            <mat-option [value]="'m'">Maschio</mat-option>
            <mat-option [value]="'f'">Femmina</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Ruolo</mat-label>
          <mat-select formControlName="role" required>
            <mat-option [value]="'user'">User</mat-option>
            <mat-option [value]="'coop_admin'">Coop Admin</mat-option>
            <mat-option [value]="'admin'">Admin</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill" class="md:col-span-2">
          <mat-label>Cooperativa</mat-label>
          <mat-select formControlName="coop" [compareWith]="compareCoop">
            <mat-option [value]="null">Nessuna</mat-option>
            <mat-option *ngFor="let c of coops" [value]="c">{{ c.name }} ({{ c.email }})</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="flex items-center">
        <button mat-flat-button color="primary" type="submit" [disabled]="form.invalid || submitted">
          <mat-icon svgIcon="heroicons_outline:plus"></mat-icon>
          <span class="ml-2">Crea Utente</span>
        </button>

        <span class="ml-4 text-secondary" *ngIf="createdUserEmail">Creato: {{ createdUserEmail }}</span>
      </div>
    </form>
  </div>
</div>
